<div class="client-approve-container">
  <div class="page-header">
    <h1>Approve/Reject Client</h1>
  </div>

  <mat-card *ngIf="!loading && client">
    <mat-card-header>
      <mat-card-title>Client Information</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="client-info">
        <div class="info-row">
          <strong>Client Name:</strong>
          <span>{{ client.clientName }}</span>
        </div>
        <div class="info-row">
          <strong>Email:</strong>
          <span>{{ client.email }}</span>
        </div>
        <div class="info-row">
          <strong>Account Number:</strong>
          <span>{{ client.accountNumber }}</span>
        </div>
        <div class="info-row">
          <strong>PAN Number:</strong>
          <span>{{ client.panNumber || 'N/A' }}</span>
        </div>
        <div class="info-row">
          <strong>GST Number:</strong>
          <span>{{ client.gstNumber || 'N/A' }}</span>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card class="approval-form-card">
    <mat-card-header>
      <mat-card-title>Approval Decision</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="approvalForm" (ngSubmit)="onSubmit()">

        <mat-radio-group formControlName="approve" class="approval-options">
          <mat-radio-button [value]="true" color="primary">
            <mat-icon>check_circle</mat-icon>
            Approve Client
          </mat-radio-button>
          <mat-radio-button [value]="false" color="warn">
            <mat-icon>cancel</mat-icon>
            Reject Client
          </mat-radio-button>
        </mat-radio-group>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Remarks (Optional)</mat-label>
          <textarea matInput 
                    formControlName="remarks" 
                    rows="4" 
                    placeholder="Add any remarks..."></textarea>
          <mat-icon matPrefix>notes</mat-icon>
        </mat-form-field>


        <div class="form-actions">
          <button mat-raised-button type="button" (click)="onCancel()">
            <mat-icon>close</mat-icon>
            Cancel
          </button>
          <button mat-raised-button 
                  [color]="approvalForm.value.approve ? 'primary' : 'warn'" 
                  type="submit" 
                  [disabled]="loading">
            <mat-icon *ngIf="!loading">{{ approvalForm.value.approve ? 'check_circle' : 'cancel' }}</mat-icon>
            <mat-spinner *ngIf="loading" diameter="20"></mat-spinner>
            {{ loading ? 'Processing...' : (approvalForm.value.approve ? 'Approve' : 'Reject') }}
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>